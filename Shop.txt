Ø¨Ù„Ù‡ØŒ Ø­Ø§Ù„Ø§ Ù…ÛŒØ±ÛŒÙ… Ø³Ø±Ø§Øº Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª.

### ğŸ¤” Think: Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø­ØµÙˆÙ„Ø§Øª
Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒØŒ Ø¨ÛŒØ§ÛŒÛŒØ¯ Ø¨Ù‡ Ù…ÙˆØ§Ø±Ø¯ Ù…Ù‡Ù… ÙÚ©Ø± Ú©Ù†ÛŒÙ…:

1. Ù…Ø¯Ù„ Ù…Ø­ØµÙˆÙ„ Ú†Ù‡ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù‡ØŸ
   - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡ (Ù†Ø§Ù…ØŒ ØªÙˆØ¶ÛŒØ­Ø§ØªØŒ Ù‚ÛŒÙ…Øª)
   - Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ
   - Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
   - ØªØµØ§ÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„
   - ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ±

2. Ú†Ù‡ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ Ø±ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ…ØŸ
   - CRUD (Create, Read, Update, Delete)
   - Ø¬Ø³ØªØ¬Ùˆ Ùˆ ÙÛŒÙ„ØªØ±
   - Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ
   - Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ

3. Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ Ú†Ø·ÙˆØ± Ø¨Ø§Ø´Ù‡ØŸ
   - ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ† Ùˆ ØµØ§Ø­Ø¨ Ø³Ø§ÛŒØª Ø¨ØªÙˆÙ†Ù† Ù…Ø­ØµÙˆÙ„ Ø§Ø¶Ø§ÙÙ‡/ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†Ù†
   - Ù‡Ù…Ù‡ Ø¨ØªÙˆÙ†Ù† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±Ùˆ Ø¨Ø¨ÛŒÙ†Ù†
   - Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙÙ‚Ø· ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§

Ø¨ÛŒØ§ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒÙ… Ø¨Ù‡ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ:

```python name=app/models/product.py
from datetime import datetime
from app import db

class Category(db.Model):
    """
    Ù…Ø¯Ù„ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª
    Ø§ÛŒÙ† Ù…Ø¯Ù„ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø²Ù…Ø§Ù†Ø¯Ù‡ÛŒ Ø¨Ù‡ØªØ± Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡
    """
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(50), unique=True, nullable=False)
    description = db.Column(db.String(200))
    products = db.relationship('Product', backref='category', lazy=True)

class Product(db.Model):
    """
    Ù…Ø¯Ù„ Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ ØªÙ…Ø§Ù… ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
    Ø´Ø§Ù…Ù„ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù‚ÛŒÙ…Øª
    """
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    description = db.Column(db.Text)
    price = db.Column(db.Float, nullable=False)
    stock = db.Column(db.Integer, default=0)
    category_id = db.Column(db.Integer, db.ForeignKey('category.id'))
    images = db.relationship('ProductImage', backref='product', lazy=True)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    
    def to_dict(self):
        """
        ØªØ¨Ø¯ÛŒÙ„ Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø¨Ø±Ø§ÛŒ API
        """
        return {
            'id': self.id,
            'name': self.name,
            'description': self.description,
            'price': self.price,
            'stock': self.stock,
            'category': self.category.name if self.category else None,
            'images': [img.url for img in self.images],
            'created_at': self.created_at.isoformat(),
            'updated_at': self.updated_at.isoformat()
        }
    
    def update_stock(self, quantity, operation='add'):
        """
        Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„
        operation: 'add' Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†ØŒ 'subtract' Ø¨Ø±Ø§ÛŒ Ú©Ù… Ú©Ø±Ø¯Ù†
        """
        if operation == 'add':
            self.stock += quantity
        elif operation == 'subtract':
            if self.stock >= quantity:
                self.stock -= quantity
            else:
                raise ValueError('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª')
        db.session.commit()

class ProductImage(db.Model):
    """
    Ù…Ø¯Ù„ ØªØµØ§ÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„
    Ù‡Ø± Ù…Ø­ØµÙˆÙ„ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ú†Ù†Ø¯ ØªØ§ ØªØµÙˆÛŒØ± Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡
    """
    id = db.Column(db.Integer, primary_key=True)
    url = db.Column(db.String(200), nullable=False)
    product_id = db.Column(db.Integer, db.ForeignKey('product.id'), nullable=False)
    is_primary = db.Column(db.Boolean, default=False)
```

### ğŸ¤” Think: Ø±ÙˆØªâ€ŒÙ‡Ø§ Ùˆ Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§
Ø­Ø§Ù„Ø§ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… endpoint Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø³Ø§Ø²ÛŒÙ…:

```python name=app/products/routes.py
from flask import Blueprint, render_template, request, jsonify, abort
from flask_login import login_required, current_user
from app.models.product import Product, Category
from app import db
from app.utils.decorators import admin_required

products = Blueprint('products', __name__)

@products.route('/products')
def list_products():
    """
    Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
    Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª ÙÛŒÙ„ØªØ± Ùˆ Ø¬Ø³ØªØ¬Ùˆ
    """
    page = request.args.get('page', 1, type=int)
    category = request.args.get('category')
    search = request.args.get('search')
    
    query = Product.query
    
    if category:
        query = query.filter_by(category_id=category)
    if search:
        query = query.filter(Product.name.ilike(f'%{search}%'))
    
    products = query.paginate(page=page, per_page=12)
    categories = Category.query.all()
    
    return render_template('products/list.html', 
                         products=products,
                         categories=categories)

@products.route('/products/<int:id>')
def product_detail(id):
    """
    Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª ÛŒÚ© Ù…Ø­ØµÙˆÙ„
    """
    product = Product.query.get_or_404(id)
    return render_template('products/detail.html', product=product)

@products.route('/admin/products', methods=['GET', 'POST'])
@login_required
@admin_required
def manage_products():
    """
    Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª - ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
    """
    if request.method == 'POST':
        # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯
        data = request.form
        product = Product(
            name=data['name'],
            description=data['description'],
            price=float(data['price']),
            stock=int(data['stock']),
            category_id=int(data['category'])
        )
        db.session.add(product)
        db.session.commit()
        
        return jsonify(product.to_dict()), 201
    
    # Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª
    products = Product.query.all()
    categories = Category.query.all()
    return render_template('admin/products.html',
                         products=products,
                         categories=categories)
```

```html name=app/templates/products/list.html
<!DOCTYPE html>
<html>
<head>
    <title>Ù…Ø­ØµÙˆÙ„Ø§Øª</title>
</head>
<body>
    <h1>Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>
    
    <!-- ÙÛŒÙ„ØªØ± Ùˆ Ø¬Ø³ØªØ¬Ùˆ -->
    <div class="filters">
        <form method="GET">
            <select name="category">
                <option value="">Ù‡Ù…Ù‡ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§</option>
                {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select>
            
            <input type="text" name="search" placeholder="Ø¬Ø³ØªØ¬Ùˆ...">
            <button type="submit">Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±</button>
        </form>
    </div>

    <!-- Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª -->
    <div class="products-grid">
        {% for product in products.items %}
        <div class="product-card">
            {% if product.images %}
            <img src="{{ product.images[0].url }}" alt="{{ product.name }}">
            {% endif %}
            
            <h3>{{ product.name }}</h3>
            <p class="price">{{ product.price }} ØªÙˆÙ…Ø§Ù†</p>
            
            {% if product.stock > 0 %}
            <p class="stock">Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±: {{ product.stock }} Ø¹Ø¯Ø¯</p>
            <button onclick="addToCart({{ product.id }})">Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
            {% else %}
            <p class="out-of-stock">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <!-- ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ -->
    <div class="pagination">
        {% if products.has_prev %}
        <a href="{{ url_for('products.list_products', page=products.prev_num) }}">Ù‚Ø¨Ù„ÛŒ</a>
        {% endif %}
        
        <span>ØµÙØ­Ù‡ {{ products.page }} Ø§Ø² {{ products.pages }}</span>
        
        {% if products.has_next %}
        <a href="{{ url_for('products.list_products', page=products.next_num) }}">Ø¨Ø¹Ø¯ÛŒ</a>
        {% endif %}
    </div>
</body>
</html>
```

```html name=app/templates/admin/products.html
<!DOCTYPE html>
<html>
<head>
    <title>Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</title>
</head>
<body>
    <h1>Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>

    <!-- ÙØ±Ù… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ -->
    <div class="add-product-form">
        <h2>Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h2>
        <form method="POST">
            <div>
                <label for="name">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div>
                <label for="description">ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
                <textarea id="description" name="description" required></textarea>
            </div>
            
            <div>
                <label for="price">Ù‚ÛŒÙ…Øª:</label>
                <input type="number" id="price" name="price" required>
            </div>
            
            <div>
                <label for="stock">Ù…ÙˆØ¬ÙˆØ¯ÛŒ:</label>
                <input type="number" id="stock" name="stock" required>
            </div>
            
            <div>
                <label for="category">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
                <select id="category" name="category" required>
                    {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <button type="submit">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„</button>
        </form>
    </div>

    <!-- Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª -->
    <div class="products-list">
        <h2>Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…ÙˆØ¬ÙˆØ¯</h2>
        <table>
            <thead>
                <tr>
                    <th>Ù†Ø§Ù…</th>
                    <th>Ù‚ÛŒÙ…Øª</th>
                    <th>Ù…ÙˆØ¬ÙˆØ¯ÛŒ</th>
                    <th>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</th>
                    <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ product.stock }}</td>
                    <td>{{ product.category.name }}</td>
                    <td>
                        <button onclick="editProduct({{ product.id }})">ÙˆÛŒØ±Ø§ÛŒØ´</button>
                        <button onclick="deleteProduct({{ product.id }})">Ø­Ø°Ù</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
```

### ğŸ¤” Think: Utilities Ùˆ Decorators
Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ± Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú†Ù†Ø¯ decorator Ø¯Ø§Ø±ÛŒÙ…:

```python name=app/utils/decorators.py
from functools import wraps
from flask import abort
from flask_login import current_user

def admin_required(f):
    """
    Ø¯Ú©ÙˆØ±ÛŒØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§
    """
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if not current_user.is_authenticated or not current_user.is_admin():
            abort(403)
        return f(*args, **kwargs)
    return decorated_function

def owner_required(f):
    """
    Ø¯Ú©ÙˆØ±ÛŒØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ØµØ§Ø­Ø¨ Ø³Ø§ÛŒØª
    """
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if not current_user.is_authenticated or not current_user.is_owner():
            abort(403)
        return f(*args, **kwargs)
    return decorated_function
```

### ğŸ¯ Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡:
1. Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ†:
   - Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
   - ØªØµØ§ÙˆÛŒØ±
   - Ù…ÙˆØ¬ÙˆØ¯ÛŒ
   
2. Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ APIâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²:
   - Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ ÙÛŒÙ„ØªØ± Ùˆ Ø¬Ø³ØªØ¬Ùˆ
   - Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
   
3. Ø§Ù…Ù†ÛŒØª Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ:
   - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² decoratorÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ
   - Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ

4. Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ:
   - ÙÛŒÙ„ØªØ± Ùˆ Ø¬Ø³ØªØ¬Ùˆ
   - ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
   - Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ

Ø¢ÛŒØ§ Ù…Ø§ÛŒÙ„ÛŒØ¯:
1. Ø¨Ù‡ Ø³Ø±Ø§Øº Ù…Ø§Ú˜ÙˆÙ„ Ø¨Ø¹Ø¯ÛŒ (Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯) Ø¨Ø±ÛŒÙ…ØŸ
2. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³ÛŒÙ…ØŸ
3. ÛŒØ§ Ø³Ø¤Ø§Ù„ÛŒ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¯Ø§Ø±ÛŒØ¯ØŸ
